(()=>{"use strict";var n={56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var i={},a=[],c=0;c<n.length;c++){var s=n[c],l=o.base?s[0]+o.base:s[0],d=i[l]||0,p="".concat(l," ").concat(d);i[l]=d+1;var u=t(p),h={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==u)e[u].references++,e[u].updater(h);else{var f=r(h,o);o.byIndex=c,e.splice(c,0,{identifier:p,updater:f,references:1})}a.push(p)}return a}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var i=o(n=n||[],r=r||{});return function(n){n=n||[];for(var a=0;a<i.length;a++){var c=t(i[a]);e[c].references--}for(var s=o(n,r),l=0;l<i.length;l++){var d=t(i[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}i=s}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},e.i=function(n,t,o,r,i){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(o)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(a[s]=!0)}for(var l=0;l<n.length;l++){var d=[].concat(n[l]);o&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),e.push(d))}},e}},365:(n,e,t)=>{t.d(e,{A:()=>u});var o=t(601),r=t.n(o),i=t(314),a=t.n(i),c=t(417),s=t.n(c),l=new URL(t(401),t.b),d=a()(r()),p=s()(l);d.push([n.id,`@font-face {\n  font-family: gameboy;\n  src: url(${p});\n}\n\n* {\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  background-color: #00050a;\n  font-family: gameboy;\n  user-select: none;\n  outline: none;\n}\n\nbutton {\n  border: 1px solid white;\n  background-color: transparent;\n  color: white;\n  font-family: gameboy;\n}\n\nbutton:enabled:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n\nbutton:enabled:active {\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n.header {\n  height: 10%;\n  width: 100%;\n  color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.header p {\n  font-size: 40px;\n}\n.BB-61 {\n  position: fixed;\n  animation: slide-left 100s linear forwards;\n}\n@keyframes slide-left {\n  0% {\n    left: 100vw;\n  }\n  100% {\n    left: -200vw;\n  }\n}\n\n.helpBtn {\n  height: 40px;\n  width: 40px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  padding-left: 8px;\n\n  border: 1px solid white;\n  border-radius: 100%;\n\n  position: absolute;\n  right: 80px;\n  font-size: 22px;\n}\n\n.helpBtn:hover,\n.helpBtn:active {\n  background-color: transparent !important;\n}\n\n.helpBtn:active {\n  opacity: 0.8;\n}\n\n.helpModal {\n  height: 700px;\n  width: 900px;\n\n  display: none;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n\n  background-color: #00050a;\n  color: rgb(255, 255, 255);\n\n  border: 1px solid rgba(255, 255, 255, 0.096);\n}\n.helpModal > h2 {\n  align-self: center;\n  margin: 10px 0 20px 0;\n}\n.helpIntro {\n  margin: 0 0 20px 10px;\n  color: rgba(255, 255, 255, 0.8);\n}\n\n.helpModal h3 {\n  margin: 0 0 15px 20px;\n  color: rgba(255, 255, 255, 0.6);\n}\n\n.helpModal ul {\n  margin: 0 0 15px 60px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  color: rgba(255, 255, 255, 0.4);\n}\n\n.closeHelpBtnDiv {\n  width: 100%;\n  height: fit-content;\n  display: flex;\n  justify-content: flex-end;\n  padding-right: 0px;\n}\n.closeHelpBtn {\n  margin-right: 22px;\n  font-size: 22px;\n  color: white;\n}\n\n.closeHelpBtn:hover,\n.closeHelpBtn:active {\n  margin-right: 22px;\n  font-size: 22px;\n  color: red;\n}\n\n.overlay {\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.39);\n  position: absolute;\n  display: none;\n  justify-content: center;\n  align-items: center;\n}\n\n.contentBox {\n  height: 90%;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.selectMode {\n  height: 300px;\n  width: 500px;\n  display: none;\n  flex-direction: column;\n  justify-content: space-around;\n  border: 1px solid white;\n  color: white;\n}\n\n.introDialogue {\n  margin: -20px 0 0 10px;\n}\n\n.modeOptions {\n  height: 170px;\n  width: 350px;\n  align-self: center;\n  display: flex;\n  justify-content: space-between;\n}\n\n.optionComputer,\n.optionFriend {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.optionFriendButton,\n.optionComputerButton {\n  height: 150px;\n  width: 150px;\n  border: 1px solid white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n}\n\n.optionFriendButton:hover,\n.optionComputerButton:hover {\n  opacity: 0.7;\n}\n\n.optionFriendButton > pre {\n  scale: 0.5;\n  margin: 40px 10px 0 0;\n}\n\n.getName {\n  height: 200px;\n  width: fit-content;\n  display: none;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  border: 1px solid white;\n  color: white;\n}\n\n.getName p {\n  margin: 10px 0 0 10px;\n  font-size: 20px;\n}\n\n.getName input {\n  height: 30px;\n  width: 200px;\n  background-color: #cfcfcf;\n  border: 1px solid white;\n  padding-left: 10px;\n  font-size: small;\n  font-family: gameboy;\n  outline: none;\n}\n\n.getName button {\n  height: 30px;\n  width: 100px;\n}\n\n.placeShipStage {\n  height: fit-content;\n  width: 100%;\n  display: none;\n  justify-content: center;\n  align-items: center;\n  margin-left: 250px;\n  gap: 100px;\n}\n\n.placementBoardContainer,\n.boardDiv {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 20px;\n}\n\n.actBtnContainer {\n  display: flex;\n  gap: 30px;\n  align-self: flex-end;\n  margin: 10px 50px 0 0;\n}\n\n.clearBtn,\n.confirmBtn {\n  height: 40px;\n  width: 120px;\n  background-color: transparent;\n  border: 1px solid white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  font-family: gameboy;\n  cursor: pointer;\n}\n\n.clearBtn:disabled,\n.confirmBtn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.instructionDiv {\n  display: none;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n  height: 280px;\n  width: 500px;\n  border: 1px solid #f9f9f9;\n  overflow: break-word;\n}\n.instructionDiv > p {\n  color: white;\n}\n\n.instructionDiv ol {\n  list-style-position: inside;\n  margin: 20px 0 0 15px;\n}\n\n.instructionDiv li {\n  color: rgba(255, 255, 255, 0.555);\n  font-size: 1rem;\n  margin: 0 0 15px 0;\n}\n\n.scrambleShipBtn {\n  background-color: transparent;\n  height: 100px;\n  width: 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  cursor: pointer;\n}\n.scrambleShipBtn:active img {\n  opacity: 0.8;\n}\n\n.scrambleShipBtn:hover,\n.scrambleShipBtn:active {\n  background-color: transparent !important;\n}\n\n.scrambleShipBtn img {\n  scale: 0.1;\n}\n\n/* .placementBoard{\n  height: fit-content;\n  width: 100%;\n} */\n\n.ship {\n  height: 45px;\n  width: fit-content;\n  display: flex;\n  border-width: 1px 0 1px 1px;\n  border-style: solid;\n  border-color: lightblue;\n  margin: 0 0 20px 20px;\n}\n.ship:hover {\n  background-color: rgba(173, 216, 230, 0.1);\n}\n\n.ship:active {\n  background-color: rgba(173, 216, 230, 0.5);\n}\n\n.shipCell {\n  height: 45px;\n  width: 45px;\n  border-right: 1px solid lightblue;\n}\n\n.playingStage {\n  display: none;\n  flex-direction: column;\n  height: fit-content;\n  width: fit-content;\n}\n\n.turnAnnouncer {\n  height: 50px;\n  width: 100%;\n  padding-bottom: 40px;\n  color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 25px;\n}\n\n.blink {\n  animation: blink 1s step-start 3;\n}\n@keyframes blink {\n  50% {\n    opacity: 0;\n  }\n}\n\n.boards {\n  height: 500px;\n  width: 1200px;\n  display: flex;\n  justify-content: space-between;\n}\n\n.boardTitle {\n  color: white;\n  height: fit-content;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.board {\n  height: fit-content;\n  width: fit-content;\n  outline: 1px solid white !important;\n  cursor: pointer;\n}\n\n.activeBoard .cell:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n\n.row {\n  height: fit-content;\n  width: fit-content;\n  display: flex;\n}\n\n.cell {\n  height: 45px;\n  width: 45px;\n  border-right: 1px solid rgba(128, 128, 128, 0.5);\n  border-bottom: 1px solid rgba(128, 128, 128, 0.5);\n  margin: 0 -1px -1px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.hit {\n  background-color: rgba(255, 0, 0, 0.1);\n}\n\n.miss {\n  background-color: rgba(255, 166, 0, 0.1);\n}\n\n.redMark,\n.orangeMark {\n  height: 10px;\n  width: 10px;\n  border-radius: 100%;\n}\n\n.redMark {\n  background-color: crimson;\n}\n\n.orangeMark {\n  background-color: orange;\n}\n\n.replayModal {\n  height: 150px;\n  width: 200px;\n  border: 1px solid white;\n  display: none;\n  flex-direction: column;\n  justify-content: space-around;\n  color: white;\n  background-color: #00050ada;\n  padding: 20px 20px 0 20px;\n}\n.restartBtn {\n  height: 30px;\n  width: 80px;\n  background-color: none;\n  border: 1px solid white;\n  align-self: flex-end;\n  font-family: gameboy;\n}\n`,""]);const u=d},401:(n,e,t)=>{n.exports=t.p+"d9d11b3df42d741aaf14.ttf"},417:n=>{n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]|(%20)/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},601:n=>{n.exports=function(n){return n[1]}},659:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return n[o](i,i.exports,t),i.exports}t.m=n,t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n;t.g.importScripts&&(n=t.g.location+"");var e=t.g.document;if(!n&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(n=e.currentScript.src),!n)){var o=e.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&(!n||!/^http(s?):/.test(n));)n=o[r--].src}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=n})(),t.b=document.baseURI||self.location.href,t.nc=void 0;var o=t(72),r=t.n(o),i=t(825),a=t.n(i),c=t(659),s=t.n(c),l=t(56),d=t.n(l),p=t(540),u=t.n(p),h=t(113),f=t.n(h),m=t(365),g={};g.styleTagTransform=f(),g.setAttributes=d(),g.insert=s().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=u(),r()(m.A,g),m.A&&m.A.locals&&m.A.locals;class y{constructor(){this.occupiedCells={},this.missedCells=[]}getPossibleCells(n,e){const t=n.size,o=n.axis,r=t%2==0?Math.ceil((t-1)/2):Math.ceil(t/2);let i=r-1,a=t-r;const c=e.slice(),s=e.slice();let l=t-1;for(;l;){for(;i;){if(("X"===o?c[0]+1:c[1]+1)>10){a+=i,i=0;break}"X"===o?c[0]++:c[1]++,i-=1,l-=1}for(;a;){if(("X"===o?s[0]-1:s[1]-1)<1){i+=a,a=0;break}"X"===o?s[0]--:s[1]--,a-=1,l-=1}}const d=[];for(;"X"===o?s[0]<=c[0]:s[1]<=c[1];)d.push(s.slice()),"X"===o?s[0]++:s[1]++;return d}placeShip(n,e){n.forEach(n=>{this.occupiedCells[n]=e})}receiveAttack(n){const e=this.occupiedCells[n];if(e&&!e.checkSunk())return e.incrementHit(),e.hit}hasAllSunked(){for(const n in this.occupiedCells)if(!this.occupiedCells[n].checkSunk())return!1;return!0}}class x{constructor(n){this.name=n,this.board=new y}}class b{constructor(n,e="X"){this.size=n,this.axis=e,this.hit=0,this.isSunk=!1}checkSunk(){return this.isSunk=this.hit>=this.size,this.isSunk}incrementHit(){return this.hit+=1,this.hit}}const v=document.querySelector(".selectMode"),w=document.querySelector(".boards"),k=document.querySelector(".playingStage"),C=document.querySelector(".getName"),S=document.getElementById("name"),L=document.querySelector(".placeShipStage"),E=document.querySelector(".turnAnnouncer"),B=document.querySelector(".restartBtn"),j=document.querySelector(".helpBtn"),M=document.querySelector(".closeHelpBtn");function q(n,e){return"secondPlayer"===n&&"optionComputer"===e?"Computer":("secondPlayer"===n&&"optionFriend"===e&&(C.querySelector("p").textContent="and what's your friend's name?"),C.style.display="flex",new Promise(n=>{const e=t=>{t.preventDefault();const o=S.value;C.style.display="none",C.removeEventListener("submit",e),n(o)};C.addEventListener("submit",e),C.reset()}))}function $(n,e=10){const t=document.createElement("div");t.classList.add("board","placementBoard");for(let o=1;o<=e;o++){const r=document.createElement("div");r.classList.add("row");for(let t=1;t<=e;t++){const e=document.createElement("div");e.classList.add("cell"),e.dataset.coordinate=`[${t},${o}]`,Object.keys(n.occupiedCells).includes(`${t},${o}`)&&(e.style.backgroundColor="rgba(2, 92, 156, 0.859)",e.classList.add("occupied")),r.appendChild(e)}t.appendChild(r)}return t}function A(n,e){return n?e?void n.forEach(n=>{const t=JSON.stringify(n),o=document.querySelector(`[data-coordinate='${t}']`),r=o.classList.contains("occupied");let i;"overlapped"===e?i=r?"rgba(220, 20, 60, 0.78)":"rgba(220, 20, 60, 0.3)":"in"===e?i=r?i:"rgba(255, 255, 255, 0.1)":"out"===e&&(i=r?"rgba(2, 92, 156, 0.859)":"transparent"),o.style.backgroundColor=i}):new Error(`Action Array: ${e}`):new Error(`Cell Array: ${n}`)}function P(n,e,t){const o=document.querySelector(".placementBoardContainer");let r,i,a;const c=new Promise(n=>{a=n}),s=()=>!r||r.some(e=>Object.keys(n.occupiedCells).includes(e.join(","))),l=()=>{r=n.getPossibleCells(e,i)},d=n=>{const e=n.target;e.classList.contains("cell")&&(i=JSON.parse(e.dataset.coordinate),l(),A(r,s()?"overlapped":"in"))},p=n=>{n.target.classList.contains("cell")&&A(r,"out")},u=n=>{n.preventDefault(),n.target.classList.contains("cell")&&(A(r,"out"),e.axis="X"===e.axis?"Y":"X",l(),A(r,s()?"overlapped":"in"))},h=o=>{if(!o.target.classList.contains("cell"))return;const i=!s();t(i,n,e,r),a(e.axis)};return o.addEventListener("mouseover",d),o.addEventListener("mouseout",p),o.addEventListener("wheel",u),o.addEventListener("click",h),{axisPromise:c,cleanupBoard:()=>{o.removeEventListener("mouseover",d),o.removeEventListener("mouseout",p),o.removeEventListener("wheel",u),o.removeEventListener("click",h)}}}async function T(n,e,t=[5,4,4,3,3,2]){const o=n.board,r={index:0,axis:"X"};(function(n,e){L.textContent="";const t=n.board,o=document.createElement("div");o.classList.add("placementBoardContainer");const r=document.createElement("div");r.classList.add("boardTitle");const i=document.createElement("p");i.innerHTML="Computer"===e?`${n.name} Place your six ships on the board`:`${n.name} Place your six ships on the board<br>and make sure ${e} isn't watching!`,r.appendChild(i),o.appendChild(r);const a=$(t);o.appendChild(a);const c=document.createElement("div");c.classList.add("actBtnContainer");const s=document.createElement("button");s.classList.add("clearBtn"),s.textContent="Clear",c.appendChild(s);const l=document.createElement("button");l.classList.add("confirmBtn"),l.textContent="Confirm",c.appendChild(l),o.appendChild(c),L.appendChild(o),L.appendChild(function(){const n=document.querySelector(".instructionDiv").cloneNode(!0);return n.style.display="flex",n}())})(n,e),L.style.display="flex";const i=document.querySelector(".clearBtn"),a=document.querySelector(".scrambleShipBtn"),c=document.querySelector(".confirmBtn");function s(){O(o),p(),N(o),i.disabled=!1,c.disabled=!1,r.index=t.length+10}function l(){o.occupiedCells={},r.index=0,r.axis="X",p(),N(o),c.disabled=!0,u()}c.disabled=!0,i.disabled=!0;const d=(n,e,t,o)=>{n&&(e.placeShip(o,t),r.index++),p(),N(e)};let p;const u=async()=>{for(;r.index<t.length;){i.disabled=r.index<=0;const n=new b(t[r.index],r.axis),{axisPromise:e,cleanupBoard:a}=P(o,n,d);p=a,r.axis=await e}c.disabled=!1};return new Promise(n=>{i.addEventListener("click",l),a.addEventListener("click",s),c.addEventListener("click",()=>{L.style.display="none",a.removeEventListener("click",s),i.removeEventListener("click",l),n()}),u()})}function N(n){document.querySelector(".placementBoard").remove(),document.querySelector(".boardTitle").after($(n))}function O(n,e=6,t=[5,4,4,3,3,2]){n.occupiedCells={};const o=["X","Y"];let r,i=0;for(;e;){const a=o[D(2)-1],c=new b(t[i],a),s=[D(10),D(10)];r=n.getPossibleCells(c,s),r.some(e=>Object.keys(n.occupiedCells).includes(e.join(",")))||(n.placeShip(r,c),i+=1,e-=1)}}function D(n){return Math.floor(Math.random()*n)+1}async function X(n){const e=document.querySelector(`.${n.name.replace(/\s/g,"")}_board`),t=Object.keys(n.board.occupiedCells);return e.classList.add("activeBoard"),new Promise(o=>{e.addEventListener("click",function r(i){const a=i.target.closest(".cell");if(a&&!["hit","miss"].some(n=>a.classList.contains(n))){const i=document.createElement("div");let c="miss",s="orangeMark";const l=a.dataset.coordinate;t.includes(l)&&(c="hit",s="redMark",n.board.receiveAttack(l)),a.classList.add(c),i.classList.add(s),a.appendChild(i),e.classList.remove("activeBoard"),e.removeEventListener("click",r),o(c)}})})}async function z(n,e,t){const o=n.board,r=Object.keys(n.board.occupiedCells),i=document.querySelector(`.${n.name.replace(/\s/g,"")}_board`);return i.classList.add("activeBoard"),new Promise(n=>{const a=document.createElement("div");let c,s,l,d,p;({pos:c,method:s}=function(n,e){function t(n){const e=document.querySelector(`[data-coordinate="${n}"]`);return e.classList.contains("hit")||e.classList.contains("miss")}const o=()=>{for(;;){const n=`${D(10)},${D(10)}`;if(!t(n))return{pos:n,method:null}}};if(!n)return o();const r=n.split(",").map(Number);let i=0;const a=["+","-"],c={};for(const n of a)for(let e=0;e<r.length;e++){const t=r.slice();"+"===n?t[e]++:t[e]--,c[i]={pos:t.join(","),method:[n,e]},i++}const s=Object.keys(c).length;for(let n=0;n<s;n++){const e=c[n].pos,o=e.split(",").map(Number);(o[0]<1||o[0]>10||o[1]<1||o[1]>10||t(e))&&delete c[n]}const l=Object.keys(c).length<1;for(;;){if(e&&!l){const[n,t]=e;"+"===n?r[t]+=1:r[t]-=1;const o=[...r];for(const n in c){const t=c[n].pos,r=o.join(",");if(t===r)return{pos:r,method:e}}e=null;continue}if(e||l)return o();{const n=Object.keys(c);return c[n[D(n.length)-1]]}}}(e,t)),l=document.querySelector(`[data-coordinate="${c}"]`),r.includes(c)?(o.receiveAttack(c),d="hit",p="redMark"):(o.missedCells.push(c),d="miss",p="orangeMark"),setInterval(()=>{l.classList.add(d),a.classList.add(p),l.appendChild(a),i.classList.remove("activeBoard"),n([d,c,s])},800)})}async function I(n){const e=await q("firstPlayer",n),t=await q("secondPlayer",n),[o,r]=function(n,e){return[new x(n),new x(e)]}(e,t);await T(o,t),"optionComputer"===n?O(r.board):await T(r,e),[e,t].forEach(n=>{const e=n.replace(/\s/g,""),t=document.createElement("div");t.classList.add("boardDiv",`${e}_boardDiv`);const o=document.createElement("div");o.classList.add("boardTitle",`${e}BoardTitle`);const r=document.createElement("p");r.textContent=`${n}'s board`,o.appendChild(r),t.appendChild(o);const i=function(n,e=10){const t=document.createElement("div");t.classList.add("board",`${n}_board`);for(let n=1;n<=e;n++){const o=document.createElement("div");o.classList.add("row");for(let t=1;t<=e;t++){const e=document.createElement("div");e.classList.add("cell"),e.dataset.coordinate=`${t},${n}`,o.appendChild(e)}t.appendChild(o)}return t}(e);t.appendChild(i),w.appendChild(t)}),k.style.display="flex",await async function(n,e){let t=n,o=e;const r=document.createElement("p");E.appendChild(r);const i=n.board,a=e.board;let c,s,l;for(;!i.hasAllSunked()&&!a.hasAllSunked();)r.textContent=`${t.name}'s turn`,"Computer"===t.name?[c,s,l]=await z(o,"hit"===c?s:null,"hit"===c?l:null):c=await X(o),"hit"!=c&&([t,o]=[o,t]);const d=n.board.hasAllSunked()?e.name:n.name;r.textContent=`${d} is the winner!!!`,r.classList.add("blink"),setTimeout(()=>{document.querySelector(".overlay").style.display="flex",document.querySelector(".replayModal").style.display="flex"},6e3)}(o,r)}B.addEventListener("click",()=>{location.reload(!0)}),j.addEventListener("click",()=>{document.querySelector(".overlay").style.display="flex",document.querySelector(".helpModal").style.display="flex"}),M.addEventListener("click",()=>{document.querySelector(".overlay").style.display="none",document.querySelector(".helpModal").style.display="none"}),async function(){I(await async function(){return v.style.display="flex",new Promise(n=>{v.addEventListener("click",e=>{const t=e.target.closest(".button");t&&(v.style.display="none",n(t.classList[0]))})})}())}()})();